/* ============= FIX: proportions et pas de rognage ============= */

/* hauteur de la carte (tu peux ajuster pour l'ensemble) */
:root {
  --card-h: 476px;        /* hauteur cible */
  --art-ratio: 0.36;      /* part de la hauteur réservée à l'art */
  --stats-ratio: 0.18;    /* part réservée aux "stats" */
  --footer-ratio: 0.08;   /* part réservée au footer */
}

/* carte : taille fixe, bord & overflow visible pour ombres */
.card {
  width: min(100%, var(--card-w));
  height: var(--card-h);           /* hauteur fixe pour conserver proportions */
  border-radius: var(--radius);
  overflow: visible;               /* important: laisser visible si besoin */
  display:block;
  position: relative;
  box-shadow: var(--shadow);
}

/* contenu : layout en grid pour contrôler précisément chaque bloc */
.content {
  position: relative;
  z-index: 2;
  height: 100%;
  display: grid;
  /* lignes : topbar/titre (auto), art (ratio), stats (ratio), desc (flexible), effect (auto), footer (ratio) */
  grid-template-rows:
    auto
    calc(var(--card-h) * var(--art-ratio))   /* zone image */
    calc(var(--card-h) * var(--stats-ratio)) /* stats (étoiles) */
    1fr                                      /* description flexible */
    auto                                     /* effet (encadré) */
    calc(var(--card-h) * var(--footer-ratio));/* footer */
  gap: 8px;
  padding: 12px;
  box-sizing: border-box;
}

/* art : hauteur exactement celle de la grille */
.art {
  width: 100%;
  height: 100%;
  display:flex;
  align-items:center;
  justify-content:center;
  overflow:hidden;
  border-radius: 10px;
  position:relative;
}

/* image : s'adapte sans déformation (par défaut contain) */
.art img.card-art {
  width: 100%;
  height: 100%;
  object-fit: contain; /* change to 'cover' si tu veux remplir/recadrer */
  object-position: center center;
  display:block;
}

/* stats : fixe la zone, contenu centré verticalement */
.stats{
  padding: 8px;
  display:flex;
  flex-direction:column;
  justify-content:center;
  gap:6px;
  box-sizing:border-box;
  overflow: hidden;
}

/* description : flexible ET scrollable si trop long */
.desc{
  padding: 8px;
  border-radius: 10px;
  overflow-y: auto;         /* IMPORTANT : autorise le scroll interne */
  -webkit-overflow-scrolling: touch;
  box-sizing:border-box;
}

/* effet et footer restent auto (taille selon contenu) */
.effect{ padding:8px; }
.footer{ padding:8px; }

/* Ajustements responsive : réduire hauteurs sur petits écrans */
@media (max-width: 800px) {
  :root { --card-h: 420px; }
}
@media (max-width: 480px) {
  :root { --card-h: 360px; --art-ratio: 0.30; --stats-ratio: 0.16; --footer-ratio: 0.10; }
}
/* assurance d'occupation des lignes de la grille */
.header { grid-row: 1; }
.art    { grid-row: 2; }
.stats  { grid-row: 3; }
.desc   { grid-row: 4; }
.effect { grid-row: 5; }
.footer { grid-row: 6; }

/* debug visuel temporaire — supprime après vérification */
.content > * { /* outline: 1px dashed rgba(255,255,255,0.04); */ }

